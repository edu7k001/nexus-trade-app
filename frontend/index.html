<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Trade - Painel Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-crown"></i>
                    <span>NEXUS ADMIN</span>
                </div>
                <button class="sidebar-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <div class="admin-profile">
                <div class="admin-avatar" id="admin-avatar">A</div>
                <div class="admin-info">
                    <div class="admin-name" id="admin-name">Carregando...</div>
                    <div class="admin-role">Administrador</div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" onclick="showSection('dashboard', this)">
                    <i class="fas fa-chart-pie"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('users', this)">
                    <i class="fas fa-users"></i>
                    <span>Usu√°rios</span>
                    <span class="badge" id="users-badge">0</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('deposits', this)">
                    <i class="fas fa-arrow-down"></i>
                    <span>Dep√≥sitos</span>
                    <span class="badge" id="deposits-badge">0</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('withdraws', this)">
                    <i class="fas fa-arrow-up"></i>
                    <span>Saques</span>
                    <span class="badge" id="withdraws-badge">0</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('games', this)">
                    <i class="fas fa-dice"></i>
                    <span>Jogos</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('config', this)">
                    <i class="fas fa-cog"></i>
                    <span>Configura√ß√µes</span>
                </a>
                <a href="#" class="nav-item" onclick="showSection('logs', this)">
                    <i class="fas fa-history"></i>
                    <span>Logs</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="server-status" id="server-status">
                    <i class="fas fa-circle"></i>
                    <span>Servidor Online</span>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Sair</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="page-title" id="page-title">Dashboard</div>
                <div class="top-bar-actions">
                    <div class="datetime" id="datetime"></div>
                    <button class="refresh-btn" onclick="refreshData()">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>

            <!-- Content Sections -->
            <div class="content-sections">
                <!-- Dashboard Section -->
                <section id="dashboard-section" class="content-section active">
                    <div class="stats-grid" id="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="stat-total-users">0</div>
                                <div class="stat-label">Usu√°rios Totais</div>
                            </div>
                            <div class="stat-change" id="stat-users-online">0 online</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="stat-total-balance">R$ 0</div>
                                <div class="stat-label">Saldo Total</div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="stat-pending-deposits">0</div>
                                <div class="stat-label">Dep√≥sitos Pend.</div>
                            </div>
                            <div class="stat-change" id="stat-pending-deposits-amount">R$ 0</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="stat-pending-withdraws">0</div>
                                <div class="stat-label">Saques Pend.</div>
                            </div>
                            <div class="stat-change" id="stat-pending-withdraws-amount">R$ 0</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-dice"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="stat-total-bets">R$ 0</div>
                                <div class="stat-label">Total Apostado</div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="stat-total-wins">R$ 0</div>
                                <div class="stat-label">Total Ganho</div>
                            </div>
                        </div>
                    </div>

                    <!-- Gr√°ficos e atividades recentes -->
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>√öltimos Dep√≥sitos</h3>
                                <a href="#" onclick="showSection('deposits')">Ver todos</a>
                            </div>
                            <div class="card-body" id="recent-deposits">
                                <div class="loading">Carregando...</div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>√öltimos Saques</h3>
                                <a href="#" onclick="showSection('withdraws')">Ver todos</a>
                            </div>
                            <div class="card-body" id="recent-withdraws">
                                <div class="loading">Carregando...</div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>√öltimos Jogos</h3>
                                <a href="#" onclick="showSection('games')">Ver todos</a>
                            </div>
                            <div class="card-body" id="recent-games">
                                <div class="loading">Carregando...</div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Usu√°rios Online</h3>
                                <span class="badge" id="online-count">0</span>
                            </div>
                            <div class="card-body" id="online-users">
                                <div class="loading">Carregando...</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Users Section -->
                <section id="users-section" class="content-section">
                    <div class="section-header">
                        <h2>Gerenciar Usu√°rios</h2>
                        <div class="section-actions">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="user-search" placeholder="Buscar por nome, email ou PIX...">
                            </div>
                            <select id="user-status-filter" class="filter-select">
                                <option value="todos">Todos os status</option>
                                <option value="Pendente">Pendente</option>
                                <option value="Ativo">Ativo</option>
                                <option value="Aguardando Dep√≥sito">Aguardando Dep√≥sito</option>
                                <option value="Pode Sacar">Pode Sacar</option>
                                <option value="Bloqueado">Bloqueado</option>
                            </select>
                            <button class="btn-primary" onclick="loadUsers()">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usu√°rio</th>
                                    <th>Email</th>
                                    <th>PIX</th>
                                    <th>Saldo</th>
                                    <th>B√¥nus</th>
                                    <th>Total</th>
                                    <th>Rollover</th>
                                    <th>Meta</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="users-list">
                                <tr><td colspan="11" class="loading">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Deposits Section -->
                <section id="deposits-section" class="content-section">
                    <div class="section-header">
                        <h2>Dep√≥sitos Pendentes</h2>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usu√°rio</th>
                                    <th>Email</th>
                                    <th>Valor</th>
                                    <th>Data</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="deposits-list">
                                <tr><td colspan="6" class="loading">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Withdraws Section -->
                <section id="withdraws-section" class="content-section">
                    <div class="section-header">
                        <h2>Saques Pendentes</h2>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usu√°rio</th>
                                    <th>Email</th>
                                    <th>Valor</th>
                                    <th>CPF</th>
                                    <th>Chave PIX</th>
                                    <th>Data</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="withdraws-list">
                                <tr><td colspan="8" class="loading">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Games Section -->
                <section id="games-section" class="content-section">
                    <div class="section-header">
                        <h2>Hist√≥rico de Jogos</h2>
                        <div class="section-actions">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="game-search" placeholder="Buscar por usu√°rio...">
                            </div>
                            <select id="game-filter" class="filter-select">
                                <option value="todos">Todos os jogos</option>
                                <option value="fortune-ox">Fortune Ox</option>
                                <option value="slot">Slots</option>
                                <option value="dice">Dados</option>
                                <option value="crash">Avi√£o</option>
                            </select>
                            <button class="btn-primary" onclick="loadGameHistory()">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usu√°rio</th>
                                    <th>Jogo</th>
                                    <th>Aposta</th>
                                    <th>Ganho</th>
                                    <th>Resultado</th>
                                    <th>Data</th>
                                </tr>
                            </thead>
                            <tbody id="games-list">
                                <tr><td colspan="7" class="loading">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Config Section -->
                <section id="config-section" class="content-section">
                    <div class="section-header">
                        <h2>Configura√ß√µes do Sistema</h2>
                    </div>

                    <div class="config-tabs">
                        <button class="config-tab active" onclick="showConfigTab('geral')">Geral</button>
                        <button class="config-tab" onclick="showConfigTab('metas')">Metas</button>
                        <button class="config-tab" onclick="showConfigTab('jogos')">Jogos</button>
                        <button class="config-tab" onclick="showConfigTab('limites')">Limites</button>
                    </div>

                    <div class="config-content">
                        <!-- Geral -->
                        <div id="config-geral" class="config-panel active">
                            <div class="config-grid">
                                <div class="config-card">
                                    <h3>üí∞ Configura√ß√µes Gerais</h3>
                                    <div class="config-item">
                                        <label>Chave PIX da Empresa</label>
                                        <input type="text" id="config-pix-key" placeholder="Digite a chave PIX">
                                    </div>
                                    <div class="config-item">
                                        <label>Modo Manuten√ß√£o</label>
                                        <select id="config-maintenance">
                                            <option value="0">Desativado</option>
                                            <option value="1">Ativado</option>
                                        </select>
                                    </div>
                                    <div class="config-item">
                                        <label>Permitir Dep√≥sitos</label>
                                        <select id="config-allow-deposits">
                                            <option value="1">Sim</option>
                                            <option value="0">N√£o</option>
                                        </select>
                                    </div>
                                    <div class="config-item">
                                        <label>Permitir Saques</label>
                                        <select id="config-allow-withdrawals">
                                            <option value="1">Sim</option>
                                            <option value="0">N√£o</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="config-card">
                                    <h3>üíµ Dep√≥sitos e Saques</h3>
                                    <div class="config-item">
                                        <label>Dep√≥sito M√≠nimo (R$)</label>
                                        <input type="number" id="config-min-deposit" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>B√¥nus sobre Dep√≥sito (R$)</label>
                                        <input type="number" id="config-bonus-amount" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Saque M√≠nimo (R$)</label>
                                        <input type="number" id="config-min-withdraw" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Saque M√°ximo (R$)</label>
                                        <input type="number" id="config-max-withdraw" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Taxa de Saque (%)</label>
                                        <input type="number" id="config-withdraw-fee" step="0.1" min="0" max="100">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Metas -->
                        <div id="config-metas" class="config-panel">
                            <div class="config-grid">
                                <div class="config-card">
                                    <h3>üéØ Sistema de Metas</h3>
                                    <div class="config-item">
                                        <label>B√¥nus Inicial (R$)</label>
                                        <input type="number" id="config-initial-bonus" step="0.01">
                                        <small>Cr√©dito ao cadastrar</small>
                                    </div>
                                    <div class="config-item">
                                        <label>Meta Inicial (R$)</label>
                                        <input type="number" id="config-initial-goal" step="0.01">
                                        <small>Valor para liberar dep√≥sito</small>
                                    </div>
                                    <div class="config-item">
                                        <label>Dep√≥sito Obrigat√≥rio (R$)</label>
                                        <input type="number" id="config-required-deposit" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Meta P√≥s-Dep√≥sito (R$)</label>
                                        <input type="number" id="config-post-deposit-goal" step="0.01">
                                        <small>Valor para liberar saque</small>
                                    </div>
                                    <div class="config-item">
                                        <label>Multiplicador de Rollover</label>
                                        <input type="number" id="config-rollover-multiplier" step="0.1" min="1">
                                        <small>Ex: 10x o b√¥nus</small>
                                    </div>
                                    <div class="config-item">
                                        <label>Habilitar Rollover</label>
                                        <select id="config-enable-rollover">
                                            <option value="1">Sim</option>
                                            <option value="0">N√£o</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Jogos -->
                        <div id="config-jogos" class="config-panel">
                            <div class="config-grid">
                                <div class="config-card">
                                    <h3>üé≤ RTP dos Jogos (%)</h3>
                                    <div class="config-item">
                                        <label>Fortune Ox</label>
                                        <input type="number" id="config-fortune-ox-rtp" step="0.1" min="1" max="100">
                                    </div>
                                    <div class="config-item">
                                        <label>Slots</label>
                                        <input type="number" id="config-slot-rtp" step="0.1" min="1" max="100">
                                    </div>
                                    <div class="config-item">
                                        <label>Dados</label>
                                        <input type="number" id="config-dice-rtp" step="0.1" min="1" max="100">
                                    </div>
                                    <div class="config-item">
                                        <label>Crash</label>
                                        <input type="number" id="config-crash-rtp" step="0.1" min="1" max="100">
                                    </div>
                                    <div class="config-item">
                                        <label>Roleta</label>
                                        <input type="number" id="config-roulette-rtp" step="0.1" min="1" max="100">
                                    </div>
                                    <div class="config-item">
                                        <label>Blackjack</label>
                                        <input type="number" id="config-blackjack-rtp" step="0.1" min="1" max="100">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Limites -->
                        <div id="config-limites" class="config-panel">
                            <div class="config-grid">
                                <div class="config-card">
                                    <h3>üé∞ Limites de Aposta</h3>
                                    <div class="config-item">
                                        <label>Fortune Ox (R$)</label>
                                        <input type="number" id="config-fortune-ox-min-bet" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Slots (R$)</label>
                                        <input type="number" id="config-slot-min-bet" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Dados (R$)</label>
                                        <input type="number" id="config-dice-min-bet" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Crash (R$)</label>
                                        <input type="number" id="config-crash-min-bet" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Roleta (R$)</label>
                                        <input type="number" id="config-roulette-min-bet" step="0.01">
                                    </div>
                                    <div class="config-item">
                                        <label>Blackjack (R$)</label>
                                        <input type="number" id="config-blackjack-min-bet" step="0.01">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="config-actions">
                        <button class="btn-save" onclick="saveAllConfigs()">
                            <i class="fas fa-save"></i> SALVAR TODAS CONFIGURA√á√ïES
                        </button>
                    </div>
                    <div id="config-message" class="message"></div>
                </section>

                <!-- Logs Section -->
                <section id="logs-section" class="content-section">
                    <div class="section-header">
                        <h2>Logs do Sistema</h2>
                        <button class="btn-primary" onclick="clearLogs()">
                            <i class="fas fa-trash"></i> Limpar Logs
                        </button>
                    </div>

                    <div class="logs-container" id="logs-container">
                        <div class="loading">Carregando...</div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Modais -->
    <div id="user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Usu√°rio</h2>
                <button class="modal-close" onclick="closeModal('user-modal')">&times;</button>
            </div>
            <div class="modal-body" id="user-form"></div>
        </div>
    </div>

    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Confirmar Dep√≥sito</h2>
                <button class="modal-close" onclick="closeModal('deposit-modal')">&times;</button>
            </div>
            <div class="modal-body" id="deposit-form"></div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>
